<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pierce Andyn Christiansen</title>
    <meta name="description" content="A private family scrapbook.">
    <meta name="robots" content="noindex, nofollow">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Nunito:wght@400;600;700&family=Caveat:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ============================================
           CSS VARIABLES ‚Äî Pierce's Color Palette
           ============================================ */
        :root {
            --bg-cream: #FFF8F0;
            --bg-linen: #FAF0E6;
            --green-soft: #A8C5A0;
            --green-leaf: #6B9E6B;
            --green-mint: #B8D8BE;
            --green-deep: #5A8A5A;
            --green-pale: #E8F5E4;
            --green-forest: #4A7A4A;
            --yellow-golden: #F4C542;
            --text-charcoal: #3D3D3D;
            --text-warm: #5C5044;
            --text-light: #8A7E72;
            --text-white: #FFFDF9;
            --shadow-soft: 0 4px 20px rgba(107, 158, 107, 0.12);
            --shadow-hover: 0 8px 32px rgba(107, 158, 107, 0.2);
            --radius-soft: 16px;
            --radius-round: 24px;
            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* ============================================
           RESET & BASE
           ============================================ */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Nunito', sans-serif;
            color: var(--text-charcoal);
            background-color: var(--bg-cream);
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* ============================================
           PASSWORD PAGE
           ============================================ */
        #password-page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 24px;
            position: relative;
            overflow: hidden;
        }

        /* Soft atmospheric background */
        #password-page::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background:
                radial-gradient(ellipse at 20% 50%, rgba(184, 216, 190, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 20%, rgba(168, 197, 160, 0.2) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 80%, rgba(244, 197, 66, 0.08) 0%, transparent 50%);
            animation: bgDrift 20s ease-in-out infinite alternate;
            z-index: 0;
        }

        @keyframes bgDrift {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(-2%, -1%) scale(1.03); }
        }

        /* Floating decorative leaves */
        .floating-leaf {
            position: absolute;
            border-radius: 50% 0 50% 0;
            background: var(--green-soft);
            opacity: 0.15;
            z-index: 0;
            animation: leafFloat linear infinite;
        }

        .floating-leaf:nth-child(1) { top: 10%; left: 15%; width: 16px; height: 16px; animation-duration: 18s; animation-delay: 0s; }
        .floating-leaf:nth-child(2) { top: 25%; right: 20%; width: 10px; height: 10px; animation-duration: 22s; animation-delay: 3s; }
        .floating-leaf:nth-child(3) { bottom: 30%; left: 10%; width: 14px; height: 14px; animation-duration: 20s; animation-delay: 6s; }
        .floating-leaf:nth-child(4) { top: 60%; right: 10%; width: 8px; height: 8px; animation-duration: 25s; animation-delay: 2s; }
        .floating-leaf:nth-child(5) { bottom: 15%; left: 40%; width: 11px; height: 11px; animation-duration: 19s; animation-delay: 5s; }
        .floating-leaf:nth-child(6) { top: 40%; left: 60%; width: 9px; height: 9px; animation-duration: 23s; animation-delay: 8s; }

        @keyframes leafFloat {
            0%   { transform: translate(0, 0) rotate(0deg); opacity: 0.12; }
            25%  { transform: translate(15px, -20px) rotate(90deg); opacity: 0.2; }
            50%  { transform: translate(-10px, -40px) rotate(180deg); opacity: 0.12; }
            75%  { transform: translate(20px, -20px) rotate(270deg); opacity: 0.18; }
            100% { transform: translate(0, 0) rotate(360deg); opacity: 0.12; }
        }

        /* Gate card */
        .gate-card {
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(168, 197, 160, 0.25);
            border-radius: var(--radius-round);
            padding: 48px 40px;
            max-width: 440px;
            width: 100%;
            text-align: center;
            box-shadow:
                var(--shadow-soft),
                inset 0 1px 0 rgba(255, 255, 255, 0.6);
            animation: cardFadeIn 0.8s ease-out;
        }

        @keyframes cardFadeIn {
            0% { opacity: 0; transform: translateY(20px) scale(0.97); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Decorative leaf icon instead of a photo */
        .gate-icon {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 24px;
            background: linear-gradient(145deg, var(--green-pale), var(--green-mint));
            border: 3px solid rgba(168, 197, 160, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            box-shadow: 0 4px 16px rgba(107, 158, 107, 0.12);
        }

        /* Name & subtitle */
        .gate-name {
            font-family: 'Quicksand', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--green-leaf);
            line-height: 1.2;
            margin-bottom: 6px;
        }

        .gate-subtitle {
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 32px;
            letter-spacing: 0.3px;
        }

        /* Decorative divider */
        .gate-divider {
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--green-mint), var(--green-leaf), var(--green-mint));
            border-radius: 3px;
            margin: 0 auto 28px;
        }

        /* Welcome text */
        .gate-welcome {
            font-size: 0.95rem;
            color: var(--text-warm);
            line-height: 1.6;
            margin-bottom: 28px;
        }

        /* Password form */
        .gate-form {
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .gate-input-wrapper {
            position: relative;
        }

        .gate-input {
            width: 100%;
            padding: 14px 48px 14px 20px;
            border: 2px solid rgba(168, 197, 160, 0.35);
            border-radius: 14px;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            color: var(--text-charcoal);
            background: rgba(255, 255, 255, 0.7);
            outline: none;
            transition: var(--transition);
        }

        .gate-input::placeholder {
            color: var(--text-light);
            opacity: 0.7;
        }

        .gate-input:focus {
            border-color: var(--green-leaf);
            box-shadow: 0 0 0 4px rgba(107, 158, 107, 0.12);
            background: #fff;
        }

        /* Toggle password visibility */
        .gate-toggle-pw {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            color: var(--text-light);
            padding: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: color var(--transition);
        }

        .gate-toggle-pw:hover {
            color: var(--green-leaf);
        }

        .gate-toggle-pw svg {
            width: 20px;
            height: 20px;
        }

        /* Submit button */
        .gate-btn {
            padding: 14px 32px;
            border: none;
            border-radius: 14px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.05rem;
            font-weight: 700;
            color: var(--text-white);
            background: linear-gradient(135deg, var(--green-leaf), var(--green-deep));
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 4px 12px rgba(90, 138, 90, 0.25);
            letter-spacing: 0.3px;
        }

        .gate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(90, 138, 90, 0.35);
            background: linear-gradient(135deg, var(--green-deep), var(--green-forest));
        }

        .gate-btn:active {
            transform: translateY(0);
        }

        /* Error message */
        .gate-error {
            font-size: 0.88rem;
            color: #C0392B;
            min-height: 22px;
            transition: var(--transition);
            margin-top: 2px;
        }

        .gate-error.shake {
            animation: shakeError 0.4s ease-out;
        }

        @keyframes shakeError {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-6px); }
            40% { transform: translateX(6px); }
            60% { transform: translateX(-4px); }
            80% { transform: translateX(4px); }
        }

        /* Footer note */
        .gate-footer {
            margin-top: 20px;
            font-size: 0.78rem;
            color: var(--text-light);
            opacity: 0.6;
        }

        .gate-footer span {
            color: var(--green-leaf);
        }

        /* Green heart pulse */
        .heart-accent {
            display: inline-block;
            color: var(--green-leaf);
            animation: heartPulse 2s ease-in-out infinite;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        /* ============================================
           MOBILE RESPONSIVE
           ============================================ */
        @media (max-width: 768px) {
            .gate-card {
                padding: 36px 28px;
                border-radius: 20px;
            }

            .gate-icon {
                width: 84px;
                height: 84px;
                font-size: 36px;
            }

            .gate-name {
                font-size: 1.65rem;
            }

            .gate-subtitle {
                font-size: 1.05rem;
            }
        }

        @media (max-width: 420px) {
            .gate-card {
                padding: 32px 22px;
            }
        }
    </style>
</head>
<body>

    <!-- ==========================================
         PASSWORD GATE ‚Äî The only thing on this page
         ========================================== -->
    <div id="password-page">
        <!-- Floating decorative elements -->
        <div class="floating-leaf"></div>
        <div class="floating-leaf"></div>
        <div class="floating-leaf"></div>
        <div class="floating-leaf"></div>
        <div class="floating-leaf"></div>
        <div class="floating-leaf"></div>

        <div class="gate-card">
            <!-- Decorative icon ‚Äî no photo of Pierce for privacy -->
            <div class="gate-icon">üåø</div>

            <h1 class="gate-name">Pierce's World</h1>
            <p class="gate-subtitle">A private family scrapbook <span class="heart-accent">üíö</span></p>

            <div class="gate-divider"></div>

            <p class="gate-welcome">
                Welcome! This is a private collection of memories, milestones, and little moments. 
                Enter the family password to come inside.
            </p>

            <form class="gate-form" id="gate-form" autocomplete="off">
                <div class="gate-input-wrapper">
                    <input 
                        type="password" 
                        id="gate-password" 
                        class="gate-input" 
                        placeholder="Enter family password" 
                        autocomplete="current-password"
                        required
                    >
                    <button type="button" class="gate-toggle-pw" id="toggle-pw" aria-label="Show password">
                        <svg id="eye-open" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                        <svg id="eye-closed" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none;">
                            <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                            <line x1="1" y1="1" x2="23" y2="23"></line>
                        </svg>
                    </button>
                </div>
                <button type="submit" class="gate-btn">Come On In</button>
                <p class="gate-error" id="gate-error" aria-live="polite"></p>
            </form>

            <p class="gate-footer">Made with <span class="heart-accent">üíö</span> for our family</p>
        </div>
    </div>


    <!-- ==========================================
         JAVASCRIPT ‚Äî Password Auth
         ========================================== -->
    <script>
        /* ==============================================
           PASSWORD AUTHENTICATION
           ==============================================
           
           HOW TO SET YOUR PASSWORD:
           1. Pick your family password (e.g., "PierceRocks2024")
           2. Go to: https://emn178.github.io/online-tools/sha256.html
           3. Type your password and copy the SHA-256 hash
           4. Replace the PASSWORD_HASH value below with your hash
        ============================================== */

        // üîí REPLACE THIS HASH with the SHA-256 hash of your chosen password
        const PASSWORD_HASH = '9b04069beb4cfe5dec5927b9b35ce32707b7dfe1ba356cebd79fec4b14c97157';

        // DOM elements
        const gateForm = document.getElementById('gate-form');
        const gatePassword = document.getElementById('gate-password');
        const gateError = document.getElementById('gate-error');
        const togglePw = document.getElementById('toggle-pw');
        const eyeOpen = document.getElementById('eye-open');
        const eyeClosed = document.getElementById('eye-closed');

        /**
         * Hash a string using SHA-256 ‚Üí returns hex string
         * Uses crypto.subtle when available (HTTPS/localhost),
         * falls back to a simple JS implementation for file:// protocol
         */
        async function hashPassword(password) {
            // Try native crypto.subtle first (requires secure context)
            if (window.crypto && window.crypto.subtle) {
                try {
                    const encoder = new TextEncoder();
                    const data = encoder.encode(password);
                    const hashBuffer = await crypto.subtle.digest('SHA-256', data);
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                } catch (e) {
                    // crypto.subtle failed (likely file:// protocol) ‚Äî fall through to fallback
                }
            }

            // Fallback: pure JS SHA-256 for file:// or insecure contexts
            function sha256(str) {
                function rightRotate(value, amount) { return (value >>> amount) | (value << (32 - amount)); }
                const k = [
                    0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,
                    0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,
                    0xe49b69c1,0xefbe4786,0x0fc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,
                    0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x06ca6351,0x14292967,
                    0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,
                    0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,
                    0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,
                    0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2
                ];
                let h0=0x6a09e667,h1=0xbb67ae85,h2=0x3c6ef372,h3=0xa54ff53a,h4=0x510e527f,h5=0x9b05688c,h6=0x1f83d9ab,h7=0x5be0cd19;
                const bytes = new TextEncoder().encode(str);
                const bitLen = bytes.length * 8;
                const padded = new Uint8Array(Math.ceil((bytes.length + 9) / 64) * 64);
                padded.set(bytes);
                padded[bytes.length] = 0x80;
                const view = new DataView(padded.buffer);
                view.setUint32(padded.length - 4, bitLen, false);
                for (let offset = 0; offset < padded.length; offset += 64) {
                    const w = new Uint32Array(64);
                    for (let i = 0; i < 16; i++) w[i] = view.getUint32(offset + i * 4, false);
                    for (let i = 16; i < 64; i++) {
                        const s0 = rightRotate(w[i-15],7) ^ rightRotate(w[i-15],18) ^ (w[i-15]>>>3);
                        const s1 = rightRotate(w[i-2],17) ^ rightRotate(w[i-2],19) ^ (w[i-2]>>>10);
                        w[i] = (w[i-16] + s0 + w[i-7] + s1) | 0;
                    }
                    let a=h0,b=h1,c=h2,d=h3,e=h4,f=h5,g=h6,h=h7;
                    for (let i = 0; i < 64; i++) {
                        const S1 = rightRotate(e,6) ^ rightRotate(e,11) ^ rightRotate(e,25);
                        const ch = (e & f) ^ (~e & g);
                        const t1 = (h + S1 + ch + k[i] + w[i]) | 0;
                        const S0 = rightRotate(a,2) ^ rightRotate(a,13) ^ rightRotate(a,22);
                        const maj = (a & b) ^ (a & c) ^ (b & c);
                        const t2 = (S0 + maj) | 0;
                        h=g; g=f; f=e; e=(d+t1)|0; d=c; c=b; b=a; a=(t1+t2)|0;
                    }
                    h0=(h0+a)|0; h1=(h1+b)|0; h2=(h2+c)|0; h3=(h3+d)|0;
                    h4=(h4+e)|0; h5=(h5+f)|0; h6=(h6+g)|0; h7=(h7+h)|0;
                }
                return [h0,h1,h2,h3,h4,h5,h6,h7].map(v=>(v>>>0).toString(16).padStart(8,'0')).join('');
            }
            return sha256(password);
        }

        /**
         * Check if already authenticated ‚Üí skip straight to home
         */
        if (sessionStorage.getItem('pierce_authenticated') === 'true') {
            window.location.href = '/pages/home.html';
        }

        /**
         * Handle password submission
         */
        gateForm.addEventListener('submit', async function(e) {
            e.preventDefault();

            const password = gatePassword.value.trim();
            if (!password) return;

            try {
                const hash = await hashPassword(password);

                if (hash === PASSWORD_HASH) {
                    // ‚úÖ Correct ‚Äî save auth and redirect to home page
                    sessionStorage.setItem('pierce_authenticated', 'true');
                    
                    // Fade out the gate card, then redirect
                    document.querySelector('.gate-card').style.opacity = '0';
                    document.querySelector('.gate-card').style.transform = 'translateY(-10px) scale(0.98)';
                    document.querySelector('.gate-card').style.transition = 'all 0.4s ease-out';

                    setTimeout(() => {
                        window.location.href = '/pages/home.html';
                    }, 400);
                } else {
                    // ‚ùå Wrong password
                    gateError.textContent = "That's not quite right ‚Äî try again!";
                    gateError.classList.remove('shake');
                    void gateError.offsetWidth;
                    gateError.classList.add('shake');
                    gatePassword.value = '';
                    gatePassword.focus();
                }
            } catch (err) {
                gateError.textContent = "Something went wrong ‚Äî please try again.";
            }
        });

        /**
         * Toggle password visibility
         */
        togglePw.addEventListener('click', function() {
            const isPassword = gatePassword.type === 'password';
            gatePassword.type = isPassword ? 'text' : 'password';
            eyeOpen.style.display = isPassword ? 'none' : 'block';
            eyeClosed.style.display = isPassword ? 'block' : 'none';
        });

        /**
         * Clear error on typing
         */
        gatePassword.addEventListener('input', function() {
            gateError.textContent = '';
        });
    </script>

</body>
</html>
